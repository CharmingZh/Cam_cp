<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kinect For Azure Python API: Image Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Kinect For Azure Python API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>k4a</b></li><li class="navelem"><b>_bindings</b></li><li class="navelem"><b>image</b></li><li class="navelem"><a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html">Image</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classk4a_1_1__bindings_1_1image_1_1_image-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Image Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A class that represents an image from an imaging sensor in an Azure Kinect device.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a8f7e03963e42916d56ae812dc0bccf1d" id="r_a8f7e03963e42916d56ae812dc0bccf1d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f7e03963e42916d56ae812dc0bccf1d">create</a> (<a class="el" href="classk4a_1_1__bindings_1_1k4atypes_1_1_e_image_format.html">EImageFormat</a> image_format, int width_pixels, int height_pixels, int stride_bytes)</td></tr>
<tr class="memdesc:a8f7e03963e42916d56ae812dc0bccf1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an image.  <br /></td></tr>
<tr class="separator:a8f7e03963e42916d56ae812dc0bccf1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a24e7c8764a961bd81871eee7332981" id="r_a6a24e7c8764a961bd81871eee7332981"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a24e7c8764a961bd81871eee7332981">create_from_ndarray</a> (<a class="el" href="classk4a_1_1__bindings_1_1k4atypes_1_1_e_image_format.html">EImageFormat</a> image_format, _np.ndarray arr, int stride_bytes_custom=0, int size_bytes_custom=0, int width_pixels_custom=0, int height_pixels_custom=0)</td></tr>
<tr class="memdesc:a6a24e7c8764a961bd81871eee7332981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an image from a pre-allocated buffer.  <br /></td></tr>
<tr class="separator:a6a24e7c8764a961bd81871eee7332981"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class that represents an image from an imaging sensor in an Azure Kinect device. </p>
<table class="doxtable">
<tr style="background-color: #323C7D; color: #ffffff;">
<td>Property Name </td><td>Type </td><td>R/W </td><td><p class="starttd">Description  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>data  </td><td>numpy.ndarray  </td><td>R/W  </td><td><p class="starttd">The image data as a numpy ndarray.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>image_format  </td><td>EImageFormat  </td><td>R  </td><td><p class="starttd">The format of the image.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>size_bytes  </td><td>int  </td><td>R  </td><td><p class="starttd">The size in bytes of the data.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>width_pixels  </td><td>int  </td><td>R  </td><td><p class="starttd">The width in pixels of the data.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>height_pixels  </td><td>int  </td><td>R  </td><td><p class="starttd">The height in pixels of the data.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>stride_bytes  </td><td>int  </td><td>R  </td><td><p class="starttd">The stride in bytes of the rows.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>device_timestamp_usec  </td><td>int  </td><td>R/W  </td><td><p class="starttd">The device timestamp in microseconds.</p><ul>
<li>Timestamps are recorded by the device and represent the mid-point of exposure. They may be used for relative comparison, but their absolute value has no defined meaning.</li>
<li>If the <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> is invalid or if no timestamp was set for the image, this value will be 0. It is also possible for a 0 value to be a valid timestamp originating from the beginning of a recording or the start of streaming. </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td>system_timestamp_nsec  </td><td>int  </td><td>R/W  </td><td><p class="starttd">The device timestamp in nanoseconds.</p><ul>
<li>The system timestamp is a high performance and increasing clock (from boot). The timestamp represents the time immediately after the image buffer was read by the host PC.</li>
<li>Timestamps are recorded by the host. They may be used for relative comparision, as they are relative to the corresponding system clock. The absolute value is a monotonic count from an arbitrary point in the past.</li>
<li>The system timestamp is captured at the moment host PC finishes receiving the image.</li>
<li>On Linux the system timestamp is read from clock_gettime(CLOCK_MONOTONIC), which measures realtime and is not impacted by adjustments to the system clock. It starts from an arbitrary point in the past. On Windows the system timestamp is read from QueryPerformanceCounter(). It also measures realtime and is not impacted by adjustments to the system clock. It also starts from an arbitrary point in the past.</li>
<li>If the <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> is invalid or if no timestamp was set for the image, this value will be 0. It is also possible for a 0 value to be a valid timestamp originating from the beginning of a recording or the start of streaming. </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td>exposure_usec  </td><td>int  </td><td>R/W  </td><td><p class="starttd">The image exposure in microseconds.</p><ul>
<li>This is only supported on color image formats.</li>
<li>If the <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> is invalid or if no exposure was set for the image, this value will be 0. An exposure time of 0 is considered invalid. </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td>white_balance  </td><td>int  </td><td>R/W  </td><td><p class="starttd">The image white balance in Kelvin.</p><ul>
<li>This function is only valid for color captures, and not for depth or IR captures.</li>
<li>If the <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> is invalid or if no white balance was set for the image, this value will be 0. A white balance of 0 is considered invalid. </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td>iso_speed  </td><td>int  </td><td>R/W  </td><td><p class="starttd">The image ISO speed.</p><ul>
<li>This function is only valid for color captures, and not for depth or IR captures.</li>
<li>If the <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> is invalid or if no white balance was set for the image, this value will be 0. If the image is read from the device and this value is 0, this indicates the ISO speed was not available or an error occurred. An ISO of 0 is considered invalid. </li>
</ul>
<p class="endtd"></p>
</td></tr>
</table>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>An <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> manages an image buffer and associated metadata.</li>
</ul>
</dd>
<dd>
<ul>
<li>Do not use the Image() constructor to get an <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> instance. It will return an object that does not have a handle to the image resources held by the SDK. Instead, use the <a class="el" href="#a8f7e03963e42916d56ae812dc0bccf1d" title="Create an image.">create()</a> function.</li>
</ul>
</dd>
<dd>
<ul>
<li>The memory associated with the image buffer in an <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> may have been allocated by the Azure Kinect APIs or by the application. If the <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> was created by an Azure Kinect API, its memory will be freed when all references to the <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> are released. All images retrieved directly from a device will have been created by the API. An application can create an <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> using memory that it has allocated using <a class="el" href="#a6a24e7c8764a961bd81871eee7332981" title="Create an image from a pre-allocated buffer.">create_from_ndarray()</a> and passing an numpy ndarray with a pre-allocated memory. In both cases, the memory is released when the all references to the <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> object are released, either explicitly with del or it goes out of scope. Users do not need to worry about memory allocation and deallocation other than the normal rules for Python objects.</li>
</ul>
</dd>
<dd>
<ul>
<li>An image has a number of metadata properties that can be set or retrieved. Not all properties are applicable to images of all types. See the documentation for the individual properties for more information on their applicability and meaning.</li>
</ul>
</dd>
<dd>
<ul>
<li>Images may be of one of the standard EImageFormat formats, or may be of format EImageFormat.CUSTOM. The format defines how the underlying image buffer should be interpreted.</li>
</ul>
</dd>
<dd>
<ul>
<li>Images from a device are retrieved through a Capture object returned by <a class="el" href="classk4a_1_1__bindings_1_1device_1_1_device.html#a19de9516e64214f4a5d45227aa7943e8" title="Reads a sensor capture.">Device.get_capture()</a>.</li>
</ul>
</dd>
<dd>
<ul>
<li>Images stored in a capture are referenced by the capture until they are replaced or the capture is destroyed.</li>
</ul>
</dd>
<dd>
<ul>
<li>An <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> object may be copied or deep copied. A shallow copy shares the same data as the original, and any changes in one will affect the other. A deep copy does not share any resources with the original, and changes in one will not affect the other. In both shallow and deep copies, deleting one will have no effects on the other. </li>
</ul>
</dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a8f7e03963e42916d56ae812dc0bccf1d" name="a8f7e03963e42916d56ae812dc0bccf1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7e03963e42916d56ae812dc0bccf1d">&#9670;&#160;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classk4a_1_1__bindings_1_1k4atypes_1_1_e_image_format.html">EImageFormat</a></td>          <td class="paramname"><span class="paramname"><em>image_format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>width_pixels</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>height_pixels</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>stride_bytes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image_format</td><td>(EImageFormat): The format of the image that will be stored in this image container.</td></tr>
    <tr><td class="paramname">width_pixels</td><td>(int): Width in pixels.</td></tr>
    <tr><td class="paramname">height_pixels</td><td>(int): Height in pixels.</td></tr>
    <tr><td class="paramname">stride_bytes</td><td>(int): The number of bytes per horizontal line of the image. If set to 0, the stride will be set to the minimum size given the image format and width_pixels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a>: An <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> instance with an allocated data buffer. If an error occurs, then None is returned.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>This function is used to create images of formats that have consistent stride. The function is not suitable for compressed formats that may not be represented by the same number of bytes per line.</li>
</ul>
</dd>
<dd>
<ul>
<li>For most image formats, the function will allocate an image buffer of size <code>height_pixels</code> * <code>stride_bytes</code>. Buffers with image format of EImageFormat.COLOR_NV12 will allocate an additional <code>height_pixels</code> / 2 set of lines (each of <code>stride_bytes</code>). This function cannot be used to allocate EImageFormat.COLOR_MJPG buffer.</li>
</ul>
</dd>
<dd>
<ul>
<li>To create an image object without the API allocating memory, or to represent an image that has a non-deterministic stride, use <a class="el" href="#a6a24e7c8764a961bd81871eee7332981" title="Create an image from a pre-allocated buffer.">create_from_ndarray()</a>.</li>
</ul>
</dd>
<dd>
<ul>
<li>If an error occurs, then None is returned. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a6a24e7c8764a961bd81871eee7332981" name="a6a24e7c8764a961bd81871eee7332981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a24e7c8764a961bd81871eee7332981">&#9670;&#160;</a></span>create_from_ndarray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">create_from_ndarray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classk4a_1_1__bindings_1_1k4atypes_1_1_e_image_format.html">EImageFormat</a></td>          <td class="paramname"><span class="paramname"><em>image_format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_np.ndarray</td>          <td class="paramname"><span class="paramname"><em>arr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>stride_bytes_custom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>size_bytes_custom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>width_pixels_custom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>height_pixels_custom</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an image from a pre-allocated buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image_format</td><td>(EImageFormat): The format of the image that will be stored in this image container.</td></tr>
    <tr><td class="paramname">arr</td><td>(numpy.ndarray): A pre-allocated numpy ndarray.</td></tr>
    <tr><td class="paramname">stride_bytes_custom</td><td>(int, optional): User-defined stride in bytes.</td></tr>
    <tr><td class="paramname">size_bytes_custom</td><td>(int): User-defined size in bytes of the data.</td></tr>
    <tr><td class="paramname">width_pixels_custom</td><td>(int): User-defined width in pixels of the data.</td></tr>
    <tr><td class="paramname">height_pixels_custom</td><td>(int): User-defined height in pixels of the data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a>: An <a class="el" href="classk4a_1_1__bindings_1_1image_1_1_image.html" title="A class that represents an image from an imaging sensor in an Azure Kinect device.">Image</a> instance using the pre-allocated data buffer. If an error occurs, then None is returned.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>This function is used to create images of formats that have consistent stride. The function is not suitable for compressed formats that may not be represented by the same number of bytes per line.</li>
</ul>
</dd>
<dd>
<ul>
<li>The numpy ndarray keeps a record of the per-dimension stride in bytes to get to the next sample in the same dimension. The definition of stride in the Azure Kinect SDK is the number of bytes to get to the next sample in the row, so it only has one stride. As such, the stride that is used to pass to the SDK is the first stride in the ndarray. In cases where the geometry of the ndarray does not map well to this scheme, the user can use the optional <code>stride_bytes_custom</code> to pass in a custom stride to use.</li>
</ul>
</dd>
<dd>
<ul>
<li>Users can pass in their own size, width, height, and stride to use in cases where the ndarray shape and size metadata does not map well to the predefined EImageFormat types. They supercede any of the corresponding metadata in the ndarray.</li>
</ul>
</dd>
<dd>
<ul>
<li>If an error occurs, then None is returned. </li>
</ul>
</dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/k4a/_bindings/<a class="el" href="image_8py.html">image.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
